\documentclass[a4paper, 10pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage[utf8]{inputenc}
\usepackage[english, main=ukrainian]{babel}
\usepackage{pgfplots}
\usepackage{bm}
\usepackage{physics}
\usepackage[unicode]{hyperref}
\usepackage{tikz-cd}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{pdfpages}
\usepackage{caption}
\usepackage{float}

\usepgfplotslibrary{fillbetween}

\usetikzlibrary{spy}
\usetikzlibrary{fit,matrix}
\usetikzlibrary{babel}

\def\rightproof{$\boxed{\Rightarrow}$ }

\def\leftproof{$\boxed{\Leftarrow}$ }

\newtheoremstyle{theoremdd}
  {\topsep}
  {\topsep}
  {\normalfont}
  {0pt}
  {\bfseries}
  {}
  { }
  {\thmname{#1}\thmnumber{ #2}\textnormal{\thmnote{ \textbf{#3}\\}}}

\theoremstyle{theoremdd}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

\newcommand\thref[1]{\textbf{Th.~\ref{#1}}}
\newcommand\defref[1]{\textbf{Def.~\ref{#1}}}
\newcommand\exref[1]{\textbf{Ex.~\ref{#1}}}
\newcommand\prpref[1]{\textbf{Prp.~\ref{#1}}}
\newcommand\rmref[1]{\textbf{Rm.~\ref{#1}}}
\newcommand\lmref[1]{\textbf{Lm.~\ref{#1}}}
\newcommand\crlref[1]{\textbf{Crl.~\ref{#1}}}

\renewcommand{\qedsymbol}{$\blacksquare$}


\makeatletter
\renewenvironment{proof}[1][Proof.\\]{\par
\pushQED{\hfill \qed}%
\normalfont \topsep6\p@\@plus6\p@\relax
\trivlist
\item\relax
{\bfseries
#1\@addpunct{.}}\hspace\labelsep\ignorespaces
}{%
\popQED\endtrivlist\@endpefalse
}
\makeatother

\DeclareMathOperator{\Ob}{Ob}
\DeclareMathOperator{\Hom}{Hom}

\DeclareMathOperator{\Set}{\textbf{Set}}
\DeclareMathOperator{\FinSet}{\textbf{FinSet}}
\DeclareMathOperator{\Grp}{\textbf{Grp}}
\DeclareMathOperator{\Ab}{\textbf{Ab}}
\DeclareMathOperator{\Ring}{\textbf{Ring}}
\DeclareMathOperator{\Rng}{\textbf{Rng}}
\DeclareMathOperator{\Top}{\textbf{Top}}
\DeclareMathOperator{\Man}{\textbf{Man}}
\DeclareMathOperator{\Mod}{\textbf{Mod}}
\DeclareMathOperator{\Met}{\textbf{Met}}
\DeclareMathOperator{\Mani}{\textbf{Man}}
\DeclareMathOperator{\Vect}{\textbf{Vect}}

\title{Теорія категорії \\ І курс магістратура, 2 семестр}
    	
\begin{document}
\maketitle
\newpage
%\tableofcontents
%\newpage
%Section 1
%\section{Категорії}
\subsection{Основні означення}
\begin{definition}
\textbf{Категорія} $C$ складається з наступних компонент:
\begin{itemize}[nosep, wide=0pt, label={--}]
\item із набору \textbf{об'єктів}; об'єкти позначають за $x,y,z,\dots$, а набір позначають за $\Ob(C)$;
\item із набору \textbf{морфізмів із $x$ в $y$} $C(x,y)$ для всіх $x,y \in C$; морфізми позначають за $\alpha,\beta,\gamma,\dots$. Позначення $\alpha \colon x \to y$ або $x \overset{\alpha}{\to} y$ означають $\alpha$ -- морфізм із $x$ в $y$; ми називаємо $x$ \textbf{джерелом} та $y$ \textbf{ціллю};
\item кожний об'єкт $x$ має \textbf{тотожний морфізм} $1_x \colon x \to x$;
\item для кожних морфізмів $\alpha \colon x \to y,\ \beta \colon y \to z$ існуватиме \textbf{композиція морфізмів} $\beta \alpha \colon x \to z$.
\end{itemize}
При цьому всьому зобов'язані виконуватися такі аксіоми:
\begin{center}
\begin{enumerate}[nosep,wide=0pt,label={\arabic*)}]
\item для всіх морфізмів $\alpha \colon x \to y$ виконано $1_y \circ \alpha = \alpha \circ 1_x = \alpha$;
\item для кожних трьох морфізмів $\alpha \colon w \to x, \beta \colon x \to y, \gamma \colon y \to z$ виконується асоціативність композиції, тобто $\alpha (\beta \gamma) = (\alpha \beta) \gamma$.
\end{enumerate}
\end{center}
\end{definition}

\begin{remark}
Морфізми ще часто називають \textbf{стрілочками}.
\end{remark}

\begin{remark}
Морфізм $1_x$ для кожного об'єкта $x$ -- єдиний.
\end{remark}

\begin{example}
Розглянемо $\Set$ -- це буде категорія, яка складається з наступного:
\begin{itemize}[nosep, wide=0pt, label={--}]
\item $\Ob(\Set)$ -- набір всіх множин;
\item $\Hom(\Set)$ -- набір всіх функцій;
\item тотожне відображення $1_X \colon X \to X$ задається як $x \mapsto x$;
\item композиція між $f \colon X \to Y$ та $g \colon Y \to Z$ задається $g \circ f$ таким чином: $x \mapsto f(x) \mapsto g(f(x))$.
\end{itemize}
Ясно, що всі ці дві аксіоми виконані.
\bigskip \\
Важливо, що $\Ob(\Set)$ -- це саме \underline{набір} всіх множин, а не множина всіх множин. Тому що парадокс Рассела стверджує, що не існує множини, елементи яких будуть множинами.\\
До речі, $\Set(X,Y)$ -- набір всіх відображень $f \colon X \to Y$ -- буде, насправді, \underline{множиною}. Відображення між двома множинами -- це просто підмножина декартового добутку $X \times Y$. Коли ми беремо дві довільні множини $X,Y$, то звідси $X \times Y$ теж буде множиною.
\end{example}

\begin{example}
Розглянемо стисло ще приклади категорій:
\begin{figure}[H]
\centering
\begin{tabular}{c|c|c}
Категорія & Об'єкти & Морфізми \\
$\Grp$ & групи & гомоморфізми груп \\
$\Ab$ & абелеві групи & гомоморфізми груп \\
$\Rng$ & кільця & гомоморфізми кілець \\
$\Ring$ & кільця з одиницею & гомоморфізм кілець, що зберігають одиницю \\
${}_{R}\Mod$ & $R$-модуль & $R$-лінійне відображення \\
$\Top$ & топологічні простори & неперервній відображення \\
$\Met$ & метричні простори & неперервні відображення \\
$\Mani$ & гладкі многовиди & гладкі відображення
\end{tabular}
\end{figure}
\end{example}

\begin{example}
Можна представити категорію за допомогою графів. Категорія \textbf{0} буде взагалі порожньо виглядати. Категоріїя \textbf{1}, категорія \textbf{2}, категорія \textbf{3} виглядають таким чином:
\begin{figure}[H]
\centering
\begin{tikzcd}
\text{\textbullet} \ar[looseness=4, out=210, in=120]
\end{tikzcd}
\qquad
\begin{tikzcd}
\text{\textbullet} \arrow{r}{} \ar[looseness=4, out=210, in=120] & \text{\textbullet} \ar[looseness=4, out=60, in=-30]
\end{tikzcd}
\qquad
\begin{tikzcd}
\text{\textbullet} \arrow{rd}{} \arrow{rr}{} \ar[looseness=4, out=210, in=120] && \text{\textbullet} \ar[looseness=4, out=60, in=-30] \\
& \text{\textbullet} \ar[looseness=4, out=-45, in=225] \arrow{ru}{}
\end{tikzcd}
\end{figure}
\noindent
Так само є категорії \textbf{4},\textbf{5}, \dots
\end{example}

\begin{example}
Розглянемо моноїд $M$. Ми можемо утворити категорію $\mathcal{M}$, яка містить єдиний об'єкт -- це моноїд.
\end{example}

\begin{example}
Розглянемо так званий посет $(P,\prec)$ (partially ordered set). Скажемо, що $\Ob(P) = P$ та $P(i,j)$ -- це будуть тільки ті стрілки, для яких $i \prec j$. Композиція тут існує, оскільки $\prec$ є транзитивним відношенням. Також існує тотожне відображення, оскільки $\prec$ є рефлексивним відношенням.\\
\textit{Навіть не обов'язково тут вимагати, щоб для $(P,\prec)$ відношення $\prec$ було антисиметричним.}
\end{example}

\begin{definition}
Категорія $C$ називається \textbf{дискретною}, якщо
\begin{align*}
C(x,y) = \begin{cases} \emptyset, & x \neq y \\ \{1_x\}, & x = y \end{cases}
\end{align*}
Тобто існують лише стрілки $x \to x$, і тільки тотожні.
\end{definition}

\begin{definition}
Категорія $D$ називається \textbf{підкатегорією} $C$, якщо
\begin{align*}
\text{набір об'єктів $D$ міститься в наборі об'єктів $C$} \\
\text{набір стрілок $x \to y$ в $D$ міститься в наборі стрілок $x \to y$ в $C$ для довільних об'єктів $x,y$ із $D$} \\
\text{композиція двох морфізмів в $D$ задається так само, як і в $C$}
\end{align*}
\end{definition}

\begin{definition}
Підкатегорія $D$ категорії $C$ називається \textbf{повною}, якщо
\begin{align*}
\text{набір стрілок $x,y$ в $D$ збігається з набором стрілок $x,y$ в $C$, для довільних об'єктів $x,y$ із $D$}
\end{align*}
\end{definition}

\begin{example}
Зокрема маємо кілька прикладів:
\begin{enumerate}[nosep,wide=0pt,label={\arabic*)}]
\item категорія $\Ab$ буде повною підкатегорією $\Grp$;
\item категорія $\FinSet$ буде повною підкатегорією $\Set$.
\end{enumerate}
\end{example}

\begin{definition}
Категорія $C$ називається \textbf{малою}, якщо
\begin{align*}
\text{класи } \text{Ob}(C), \text{Hom}(C) \text{ -- множини.}
\end{align*}
Інакше категорія $C$ називатиметься \textbf{великою}.\\
Категорія $C$ називається \textbf{локально малою}, якщо
\begin{align*}
\text{для кожних двох об'єктів } x,y \text{ клас } C(x,y) \text{ -- множина}
\end{align*}
\end{definition}

\begin{example}
Зокрема $\Set$, $\Grp$ -- великі категорії, але локально малі.
\end{example}

\begin{definition}
Категорія $C$ називається \textbf{конкретною}, якщо
\begin{align*}
\text{ об'єктами категорії будуть множини, а морфізмі -- відображення між множинами, що зберігає "структуру".}
\end{align*}
\end{definition}

\begin{example}
Зокрема категорія $\Grp$ -- конкретна. Проте категорія $\textbf{HTop}$ (тут все як в категорії $\Top$, просто беруться гомотопічні відображення) -- не конкретна.
\end{example}

\subsection{Узагальнення ін'єкції та сюр'єкції}
\subsubsection{Мономорфізм}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{мономорфізмом} (\textbf{monic}), якщо
\begin{align*}
\alpha \beta_1 = \alpha \beta_2 \implies \beta_1 = \beta_2
\end{align*}
Тобто морфізм -- мономорфізм, якщо можна завжди скоротити зліва.
\begin{figure}[H]
\centering
\begin{tikzcd}
z \arrow[r, shift left, "\beta_2"] \arrow[r, shift right, "\beta_1" {yshift=-10pt}] & x \arrow{r}{\alpha} & y
\end{tikzcd}
\end{figure}
\noindent
Часто мономорфізми позначають як $\alpha \colon x \rightarrowtail y$.
\end{definition}

\begin{theorem}
У конкретній категорії кожний ін'єктивний морфізм -- мономорфізм.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- ін'єктивний морфізм. Нехай $\beta_1, \beta_2 \colon Z \to X$ -- морфізми $C$ та припустимо, що $\alpha \beta_1 = \alpha \beta_2$. Для всіх $z \in Z$ ми маємо $\alpha(\beta_1(z)) = \alpha \beta_1 (z) = \alpha \beta_2(z) = \alpha(\beta_2(z))$, тому за ін'єктивністю, $\beta_1(z) = \beta_2(z)$. Отже, $\beta_1 = \beta_2$, тобто $\alpha$ -- мономорфізм.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо повну категорію $\textbf{Div}$ підкатегорії $\Grp$. Тут абелева група з категорії $\textbf{Div}$ називається \textbf{подільною}, якщо $\forall a \in A, \forall n \in \mathbb{Z} \setminus \{0\}: \exists b \in A: a = nb$.\\
Оберемо об'єкти $\mathbb{Q}, \mathbb{Q}/_{\mathbb{Z}}$ із нашої категорії $\textbf{Div}$ та гомоморфізм $\alpha \colon \mathbb{Q} \to \mathbb{Q}/_{\mathbb{Z}}$, який є сюр'єктивним. Даний морфізм не ін'єктивний, оскільки $\ker \alpha = \mathbb{Z}$. Стверджується, що $\alpha$ -- мономорфізм.\\
Нехай $\beta_1,\beta_2 \colon A \to \mathbb{Q}$ -- морфізми в $\textbf{Div}$ та припустимо, що $\beta_1 \neq \beta_2$. Тоді існує елемент $a \in A$, для якого $\beta_1(a) - \beta_2(a) \neq 0$. Ліворуч раціональне число, тож $\beta_1(a) - \beta_2(a) = \dfrac{r}{s}$ для деяких $r,s \in \mathbb{Z}$ та $r \neq 0, s \neq 0$. Оскільки $A$ -- подільна група, то існує для елемента $a \in A$ та $n = 2r$ існує $b \in A$, для якого $a = nb$. Тоді $\beta_1(nb) - \beta_2(nb) = n \beta_1(b) - n \beta_2(b) = \dfrac{r}{s}$.\\
Отже, $\beta_1(b) - \beta_2(b) = \dfrac{1}{2s} \notin \mathbb{Z}$, а тому звідси $\alpha \beta_1 \neq \alpha \beta_2$.
\end{example}

\begin{theorem}
У категоріях $\Set,\Top,\Grp,\Rng$ морфізм ін'єктивний $\iff$ морфізм -- мономорфізм.
\end{theorem}

\begin{proof}
Ми вже знаємо, що ін'єктивний морфізм -- мономорфізм. Залишилося довести зворотний бік для цих категоріях.
\bigskip \\
($\Set$). Нехай $\alpha \colon X \to Y$ -- мономорфізм. Оберемо $x_1,x_2 \in X$ та припустимо, що $\alpha(x_1) = \alpha(x_2)$. Покладемо $z = 0 \in \mathbb{Z}$ та покладемо $Z = \{z\}$ (хоча тут може бути будь-який сінглтон), визначимо $\beta_1, \beta_2 \colon Z \to X$ як $\beta_1(z) = x_1, \beta_2(z) = x_2$. Тоді\\
$\alpha \beta_1(z) = \alpha(\beta_1(z)) = \alpha(x_1) = \alpha(x_2) = \alpha(\beta_2(z)) = \alpha \beta_2(z)$.\\
За монічністю, звідси $\beta_1 = \beta_2$, тобто $x_1 = \beta_1(z) = \beta_2(z) = x_2$. Таким чином, $\alpha$ -- ін'єктивний.
\bigskip \\
($\Top$). Насправді, все аналогічно, тільки є деякі зауваження. На множину $Z$ треба задати дискретну топологію (єдина можлива топологія для неї). Відображення $\beta_1,\beta_2$ будуть уже неперервними через дискретність $Z$.
\bigskip \\
($\Grp$). Нехай $\alpha \colon G \to H$ -- мономорфізм. Розглянемо $\beta_1, \beta_2 \colon \ker \alpha \to G$ -- перший буде вкладенням, другий буде тривіальним. Тоді $\alpha \beta_1 = \alpha \beta_2$. Дійсно,\\
$\alpha \beta_1(g) = \alpha (g) \overset{g \in \ker \alpha}{=} e = \alpha(e) = \alpha \beta_2(g)$.\\
За монічністю, звідси $\beta_1 = \beta_2$, тобто $\beta_1$ -- тривіальне вкладення. Отже, $\ker \alpha = \{e\}$, а це означає ін'єктивніть $\alpha$.
\bigskip \\
($\Rng$). Таке саме доведення.
\end{proof}

\subsubsection{Розщеплений мономорфізм}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{розщепленим мономорфізмом} (\textbf{split monic}), якщо
\begin{align*}
\exists \beta \colon y \to x: \beta \alpha = 1_x
\end{align*}
Морфізм -- розщеплений мономорфізм, тобто даний морфізм має лівий оборотний.
\begin{figure}[H]
\centering
\begin{tikzcd}
x \ar[looseness=4, out=150, in=240, swap, "1_x"] \arrow[r, shift right, "\alpha" {yshift=-10pt}] & y \arrow[l, shift right, dashed, "\exists \beta" {yshift = 10pt}]
\end{tikzcd}
\end{figure}
\end{definition}

\begin{theorem}
Кожний розщеплений мономорфізм -- мономорфізм.
\end{theorem}

\begin{proof}
Нехай $\alpha \colon x \to y$ -- розщеплений мономорфізм в категорії, тобто існує морфізм $\beta \colon y \to x$, для якого $\beta \alpha = 1_x$. Нехай $\beta_1,\beta_2 \colon z \to x$ будуть морфізмами та припустимо, що $\alpha \beta_1 = \alpha \beta_2$. Тоді \\
$\beta_1 = 1_x \beta_1 = \beta \alpha \beta_1 = \beta \alpha \beta_2 = 1_x \beta_2 = \beta_2$.
\end{proof}

\begin{theorem}
У конкретній категорії кожний розщеплений мономорфізм -- ін'єктивний морфізм.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- розщеплений мономорфізм, тобто існує морфізм $\beta \colon Y \to X$, для якого $\beta \alpha = 1_X$. Припустимо $\alpha(x_1) = \alpha(x_2)$. Тоді\\
$x_1 = 1_X (x_1) = \beta \alpha(x_1) = \beta(\alpha(x_1)) = \beta(\alpha(x_2)) = \beta \alpha(x_2) = 1_X(x_2) = x_2$.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо категорію $\Grp$. Вкладення $\alpha \colon 2 \mathbb{Z} \to \mathbb{Z}$ -- ін'єктивний гомоморфізм. Але це не буде розщепленим мономорфізмом.\\
!Припустимо, що все ж таки він розщеплений мономорфізм, тобто існує гомоморфізм $\beta \colon \mathbb{Z} \to 2 \mathbb{Z}$, для якого $\beta \alpha = 1_{2 \mathbb{Z}}$. Тоді $2 \beta(1) = \beta(2) = \beta(\alpha(2)) = \beta \alpha(2) = 2$, тобто $\beta(1) = 1$, але це суперечність! Просто тому що $\beta$ відображає на $2 \mathbb{Z}$.
\bigskip \\
Можна аналогічні міркування провести для категорії $\Rng$.
\end{example}

\begin{example}
Розглянемо категорію $\Top$. Оберемо тотожне відображення $\alpha \colon \mathbb{R} \to \mathbb{R}$, де область визначення має дискретну топологія, а область значень -- стандартну. Тоді $\alpha$ -- ін'єктивний, але не розщеплений мономорфізм.\\
!Припустимо, що існує морфізм $\beta \colon \mathbb{R} \to \mathbb{R}$, для якого $\beta \alpha = 1_\mathbb{R}$. Тоді $\beta = \beta 1_{\mathbb{R}} = \beta \alpha = 1_{\mathbb{R}}$, однак множина $\{0\}$ відкрита в $\mathbb{R}$ з дискретною топологією, але $\beta^{-1}\{0\} = \{0\}$ не відкрита в стандартній топології. Це суперечність! Тому що $\beta$ -- неперервне відображення.
\end{example}

\begin{theorem}
Задано $\alpha \colon X \to Y$ -- морфізм в категорії $\Set$.\\
$\alpha$ -- розщеплений мономорфізм $\iff \begin{cases} \alpha \text{ -- ін'єктивний} \\ X = \emptyset \implies Y = \emptyset \end{cases}$.
\end{theorem}

\begin{proof}
\rightproof Дано: $\alpha$ -- розщеплений мономорфізм. Оскільки $\Set$ -- конкретна категорія, то звідси $\alpha$ -- ін'єктивний.\\
Тепер нехай $X = \emptyset$. Тоді за умовою, існує $\beta \colon Y \to X$, для якого $\beta \alpha = 1_X = 1_\emptyset$. Тоді оскільки $\beta$ -- функція, то $Y = \emptyset$.
\bigskip \\
\leftproof Дано: $\alpha$ -- ін'єктивний та $X = \emptyset \implies Y = \emptyset$.\\
Нехай $X \neq \emptyset$, тобто існує елемент $x_0 \in X$. Оскільки $\alpha$ -- ін'єктивний, то $\alpha \colon X \to \Im \alpha$, буде задавати бієкцію, тож для кожного $y \in \Im \alpha$ існує єдиний елемент $\beta(y) \in X$, для якого $\alpha(\beta(y)) = y$. Це визначає функцію $\beta \colon \Im \alpha \to X$, що розширюється до функції $\beta \colon Y \to X$, якщо покласти $\beta(y) = x_0, y \notin \Im \alpha$. Для $x \in X$ ми маємо $\beta \alpha(x) = \beta(\alpha(x)) = x = 1_X(x)$.\\
Нехай $X = \emptyset$, тоді $Y = \emptyset$ та порожня функція $\beta \colon Y \to X$ задовольняє $\beta \alpha = 1_X$.
\end{proof}
\noindent
Отже, в \textit{конкретній} категорії маємо таку діаграму:
\begin{align*}
\text{розщеплений мономорфізм} \implies \textit{ін'єктивний} \implies \text{мономорфізм}
\end{align*}
Приклади нам показали, що жодні два терміни не збігаються загалом.\\
У більш загальних категоріям \textit{ін'єктивність} більше не визначена, бо ми там оперуємо множинами. Але якщо слово \textit{ін'єктивний} видалити, то діаграма залишається справедливою.\\
У повній підкатегорії $\Set$, що містить всі непорожні множини, всі ці три терміни збігаються.

\subsubsection{Епіморфізм}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{епіморфізмом} (\textbf{epic}), якщо
\begin{align*}
\beta_1 \alpha = \beta_2 \alpha \implies \beta_1 = \beta_2
\end{align*}
Тобто морфізм -- епіморфізм, якщо можна завжди скоротити справа (дуальне означення мономорфізма).
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow{r}{\alpha} & y \arrow[r, shift left, "\beta_1"] \arrow[r, shift right, "\beta_2" {yshift=-10pt}] & z
\end{tikzcd}
\end{figure}
\noindent
Часто епіморфізми позначають як $\alpha \colon x \twoheadrightarrow y$.
\end{definition}

\begin{theorem}
У конкретній категорії кожний сюр'єктивний морфізм -- епіморфізм.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- сюр'єктивний морфізм. Нехай $\beta_1,\beta_2 \colon Y \to Z$ -- морфізми $C$ та припустимо, що $\beta_1 \alpha = \beta_2 \alpha$. Оберемо $y \in Y$. Оскільки $\alpha$ -- сюр'єктивне, то $y = \alpha(x)$ для деякого $x \in X$. Тоді маємо $\beta_1(y) = \beta_1(\alpha(x)) = \beta_1 \alpha(x) = \beta_2 \alpha(x) = \beta_2(\alpha(x)) = \beta_2(y)$. Отже, $\beta_1 = \beta_2$.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо категорію $\Rng$ та оберемо вкладення $\alpha \colon \mathbb{Z} \to \mathbb{Q}$, яке не є сюр'єктивним. Але доведемо, що $\alpha$ -- епіморфізм.\\
Нехай $\beta_1,\beta_2 \colon \mathbb{Q} \to \mathbb{R}$ -- морфізми з $\Rng$ та припустимо, що $\beta_1 \alpha = \beta_2 \alpha$. Тоді $\beta_1(n) = \beta_2(n)$ для будь-якого цілого $n \in \mathbb{Z}$. При $n \neq 0$ ми маємо \\
$\beta_1(n^{-1}) = \beta_1(n^{-1} \cdot 1) = \beta_1(n^{-1})\beta_1(1) = \beta_1(n^{-1}) \beta_2(1) = \beta_1(n^{-1})\beta_2(n)\beta_2(n^{-1}) = \beta_1(n^{-1})\beta_1(n)\beta_2(n^{-1}) = \beta_1(1)\beta_2(n^{-1}) = \beta_2(1)\beta_2(n^{-1}) = \beta_2(1 \cdot n^{-1}) = \beta_2(n^{-1})$.\\
Таким чином, для $m,n \in \mathbb{Z}$ при $n \neq 0$ ми маємо наступне:\\
$\beta_1\left( \dfrac{m}{n} \right) = \beta_1(m) \beta_1(n^{-1}) = \beta_2(m) \beta_2(n^{-1}) = \beta_2(m) \beta_2(n^{-1}) = \beta_2\left( \dfrac{m}{n} \right)$.\\
Отже, $\beta_1 = \beta_2$.
\end{example}

\begin{theorem}
У категоріях $\Set, \Top, \Grp$ морфізм сюр'єктивний $\iff$ морфізм -- епіморфізм.
\end{theorem}

\begin{proof}
Ми вже знаємо, що сюр'єктивний морфізм -- епіморфізм. Залишилося довести зворотний бік для цих категоріях.
\bigskip \\
($\Set$). Нехай $\alpha \colon X \to Y$ -- епіморфізм морфізм. Нехай $\beta_1 \colon Y \to \{0,1\}$ буде характеристичною функцією для $\Im \alpha$ та нехай $\beta_2 \colon Y \to \{0,1\}$ буде стало дорівнювати $1$. Тоді $\beta_1 \alpha = \beta_2 \alpha$, тому за епічністю, $\beta_1 = \beta_2$. Із цього випливає, що $\Im \alpha = Y$, що доводить сюр'єктивність $\alpha$.
\bigskip \\
($\Top$). Проводиться те саме доведення, як з Set. Тільки треба $\alpha \colon X \to Y$ брати уже неперервне відображення, а на просторі $\{0,1\}$ задати недискретну топологію, щоб $\beta_1,\beta_2$ стали неерервними.
\bigskip \\
($\Grp$). Нехай $\alpha \colon G \to H$ -- гомоморфізм груп та припустимо, що це -- не сюр'єктивний. Звідси випливає, що $[H:\Im \alpha] > 1$. Ми тоді доведемо, що $\alpha$ -- не епіморфізм.\\
Випадок $[H:\Im \alpha] = 2$. Нехай $\beta_1 \colon H \to H/_{\Im \alpha}$ -- канонічний гомоморфізм та $\beta_2 \colon H \to H/_{\Im \alpha}$ -- тривіальний гомоморфізм. Тоді $\beta_1 \alpha = \beta_2 \alpha$, але при цьому $\beta_1 \ne q\beta_2$, оскільки $\Im \alpha \neq H$. Тобто в даному випадку $\alpha$ -- не епіморфізм.\\
Випадок $[H:\Im \alpha] > 2$. Тоді існують два різних правих суміжних класи $K_1 = \Im \alpha \cdot h_1$ та $K_2 = \Im \alpha \cdot h_2$, причому $K_1,K_2 \neq \Im \alpha$. Покладемо $b = h_1^{-1}h_2$ та зауважимо, що $K_1b = K_2$, а звідси $K_2b^{-1} = K_1$. Позначимо $S_H$ за групу симетрії на $H$ та оберемо бієкцію $\sigma \in S_H$, що задана формулою $\sigma(h) = \begin{cases} hb, & h \in K_1, \\ hb^{-1}, & h \in K_2, \\ h, & \text{інакше} \end{cases}$. Можна зауважити, що $\sigma^2 = 1_H$ та $\sigma(kh) = k \sigma(h)$ для всіх $k \in \Im \alpha, h \in H$. Для $h \in H$ нехай $\lambda_h$ буде елементом $S_H$, що заданий формулою $\lambda_h(x) = hx (x \in H)$. Тоді звідси отримаємо $\sigma \lambda_k = \lambda_k \sigma$ для всіх $k \in \Im \alpha$.\\
Визначимо $\beta_1,\beta_2 \colon H \to S_H$ як $\beta_1(h) = \lambda_k$ та $\beta_2(h) = \sigma \lambda_k \sigma
$. Ці два відображення справдлі задають гомоморфізм груп. Для $k \in \Im \alpha$ ми маємо\\
$\beta_2(k) = \sigma \lambda_k \sigma = \lambda_k \sigma^2 = \lambda_k = \beta_1(k)$, а тому $\beta_1 \alpha = \beta_2 \alpha$. Із іншого боку, $\beta_2(h_1)(e) = \sigma \lambda_{h_1} \sigma (e) = \sigma(h_1) = h_2 \neq h_1 = \lambda_{h_1}(e) = \beta_1(h_1)(e)$. Тож звідси $\beta_1 \neq \beta_2$. Тобто і в цьому випадку $\alpha$ -- не епіморфізм.
\end{proof}

\subsubsection{Розщеплений епіморфізм}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{розщепленим епіморфізмом}, якщо
\begin{align*}
\exists \beta \colon y \to x: \alpha \beta = 1_y
\end{align*}
Морфізм -- розщеплений епіморфізм, тобто даний морфізм має правий оборотний (дуальне означення розщепленого мономорфізма). Такий морфізм інколи ще називають \textbf{ретракцією}.
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[r, shift right, "\alpha" {yshift=-10pt}] & y \arrow[l, shift right, dashed, "\exists \beta" {yshift = 10pt}] \ar[looseness=4, out=-30, in=60, swap, "1_y"]
\end{tikzcd}
\end{figure}
\end{definition}

\begin{theorem}
Кожний розщеплений епіморфізм -- епіморфізм.
\end{theorem}

\begin{proof}
Нехай $\alpha \colon x \to y$ -- розщеплений епіморфізм в категорії, тобто існує морфізм $\beta \colon y \to x$, для якого $\alpha \beta = 1_1$. Нехай $\beta_1,\beta_2 \colon y \to z$ будуть морфізмами та припустимо, що $\beta_1 \alpha = \beta_2 \alpha$. Тоді \\
$\beta_1 = \beta_1 1_y = \beta_1 \alpha \beta = \beta_2 \alpha \beta = \beta_2 1_y = \beta_2$.
\end{proof}

\begin{theorem}
У конкретній категорії кожний розщеплений епіморфізм -- сюр'єктивний морфізм.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- розщеплений епіморфізм, тобто існує морфізм $\beta \colon Y \to X$, для якого $\alpha \beta = 1_Y$. Нехай $y \in Y$, тоді покладемо $x = \beta(y)$. Звідси\\
$\alpha(x) = \alpha(\beta(y)) = \alpha \beta(y) = 1_Y(y) = y$.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо категорію $\Grp$ та визначимо морфізм $\alpha \colon \mathbb{Z}_4 \to \mathbb{Z}_2$, визначений як $\alpha(0) = \alpha(2) = 0$ та $\alpha(1) = \alpha(3) = 1$. Це буде сюр'єктивний гомоморфізм. Оскільки $1 \in \mathbb{Z}_2$ має порядок $2$, то будь-який гомоморфізм $\beta \colon \mathbb{Z}_2 \to \mathbb{Z}_4$ зобов'язаний відображати $1$ на $0$ або $2$. Таким чином, $\alpha \beta \neq 1_{\mathbb{Z}_2}$. Отже, $\alpha$ -- не розщеплений епіморфізм.
\bigskip \\
Можна аналогічні міркування провести для категорії $\Rng$.
\end{example}

\begin{example}
Розглянемо категорію $\Top$. Маємо $\alpha \colon \mathbb{R} \to \mathbb{R}$ -- тотожне відображення; у першого -- дискретна топологія, у другого -- стандартна. Тоді $\alpha$ -- сюр'єктивний морфізм, але аналогічним чином можна довести, що це не епічний морфізм (як це було з епічним мономорфізмом).
\end{example}

\begin{theorem}
У категорії $\Set$ морфізм -- розщеплений епіморфізм $\iff$ морфізм сюр'єктивний.
\end{theorem}

\begin{proof}
Залишилося довести у зворотний бік.\\
\leftproof Дано: $\alpha \colon X \to Y$ -- сюр'єктивний морфізм. Тобто для кожного $y \in Y$ знайдеться $\beta(y) \in X$, для якого $\alpha(\beta(y)) = y$, а це визначає функцію $\beta \colon Y \to X$, яка задовольняє $\alpha \beta = 1_Y$. Отже, $\alpha$ -- розщеплений епіморфізм.
\end{proof}
\noindent
Отже, в \textit{конкретній} категорії маємо таку діаграму:
\begin{align*}
\text{розщеплений епіморфізм} \implies \textit{сюр'єктивний} \implies \text{епіморфізм}
\end{align*}
Приклади нам показали, що жодні два терміни не збігаються загалом.\\
У більш загальних категоріям \textit{сюр'єктивність} більше не визначена, бо ми там оперуємо множинами. Але якщо слово \textit{сюр'єктивний} видалити, то діаграма залишається справедливою.\\
У категорії $\Set$ всі ці три терміни збігаються.

\subsubsection{Біморфізми та ізоморфізми}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{біморфізмом}, якщо
\begin{align*}
\alpha \text{ -- одночасно мономорфізм та епіморфізм}
\end{align*}
Морфізм $\alpha \colon x \to y$ називається \textbf{ізоморфізмом}, якщо
\begin{align*}
\exists \beta \colon y \to x: \beta \alpha = 1_x \qquad \alpha \beta = 1_y
\end{align*}
\end{definition}

\begin{remark}
Якщо $\alpha$ -- ізоморфізм, то морфізм $\beta$ в означенні -- єдиний та позначається за $\alpha^{-1}$.
\end{remark}

\begin{definition}
Задано $C$ -- категорія.\\
Об'єкти $x,y$ називаються \textbf{ізоморфними}, якщо
\begin{align*}
\exists \alpha \colon x \to y \text{ -- ізоморфізм}
\end{align*}
Позначення: $x \cong y$ (це справді відношення еквівалентності).
\end{definition}

\begin{theorem}
Морфізм -- ізоморфізм $\iff$ морфізм -- розщеплений мономорфізм та розщеплений епіморфізм.
\end{theorem}

\begin{proof}
\rightproof \textit{миттєво випливає з означення.}
\bigskip \\
\leftproof Дано: $\alpha$ -- розщеплений мономорфізм та розщеплений епіморфізм. Тобто існують морфізми $\beta, \gamma \colon y \to x$, для яких $\beta \alpha = 1_x, \quad \alpha \gamma = 1_y$. Але тоді $\beta = \beta 1_y = \beta \alpha \gamma = 1_x \gamma = \gamma$. Отже, $\alpha$ -- ізоморфізм.
\end{proof}
\noindent Тепер ми маємо ось таку діаграму. Італік позначений лише для конкретних категорій.
\begin{figure}[H]
\centering
\begin{tikzcd}
\text{мономорфізм} & & \text{епіморфізм} \\
& \arrow[Rightarrow] {lu} \text{біморфізм} \arrow[Rightarrow] {ru} & \\
\arrow[Rightarrow] {uu} \textit{ін'єктивний} & & \textit{сюр'єктивний} \arrow[Rightarrow] {uu} \\
& \arrow[Rightarrow] {lu} \textit{бієктивний} \arrow[Rightarrow] {ru} \arrow[Rightarrow] {uu} & \\
\arrow[Rightarrow] {uu}
\text{розщеплений мономорфізм} & & \text{розщеплений епіморфізм} \arrow[Rightarrow] {uu} \\
& \arrow[Rightarrow] {lu} \text{ізоморфізм} \arrow[Rightarrow] {ru} \arrow[Rightarrow] {uu} & \\
\end{tikzcd}
\end{figure}

\begin{theorem}
У категорії $\Set, \Grp$ біморфізм, бієкція, ізоморфізм -- це одне й те саме.
\end{theorem}

\begin{proof}
($\Set$). Нехай $\alpha \colon X \to Y$ -- біморфізм. Зважаючи на діаграму вище, достатньо довести, що $\alpha$ -- ізоморфізм. Оскільки $\alpha$ -- мономорфізм та епіморфізм, то в даній категорії $\alpha$ -- ін'єктивний та сюр'єктивний, тобто бієктивний. Значить, існує морфізм $\alpha^{-1}$, для якого $\alpha^{-1} \alpha = 1_X, \quad \alpha \alpha^{-1} = 1_Y$, що й доводить ізоморфність.
\bigskip \\
($\Grp$). Насправді, аналогічно. Але треба окремо пересвідчитися, що якщо $\alpha$ -- гомоморфізм, то $\alpha^{-1}$ буде ним також.
\end{proof}

\begin{remark}
Що по інших категоріях, які не потрапили в цю теорему.\\
($\Rng$). Зауважимо, що $\mathbb{Z} \hookrightarrow \mathbb{Q}$ буде біморфізмом, але не бієкцією.\\
($\Top$). Тотожне відображення $R \to R$, з дискретною та стандартною топологією відповідно, буде бієкцією, але не ізоморфізмом (тобто гомеоморфізмом в даному випадку).
\end{remark}

\subsection{Ініціальні та термінальні об'єкти}
\begin{definition}
Задано $C$ -- категорія та $c \in C$ -- об'єкт.\\
Об'єкт $c$ називається \textbf{ініціальним}, якщо
\begin{align*}
\forall x \in C: \exists ! \alpha \colon c \to x
\end{align*}
Об'єкт $c$ називається \textbf{термінальним}, якщо
\begin{align*}
\forall x \in C: \exists! \beta \colon x \to c
\end{align*}
\end{definition}

\begin{example}
Зокрема в категорії $\Set, \Top$ ініціальним об'єктом буде $\emptyset$; термінальним об'єктом буде $\{x\}$ (будь-який сінглтон).
\end{example}

\begin{example}
У категоріях $\Grp, \Rng, {}_{R}\Mod$ ініціальним та термінальним об'єктом одночасно буде $\{e\}$, де $e$ -- нейтральний елемент.
\end{example}

\begin{example}
У категорії $\Ring$ ініціальним об'єктом буде кільце $\mathbb{Z}$, а термінальним об'єктом буде тривіальне кільце $\{0\}$.
\end{example}

\begin{theorem}
Задано $C$ -- категорія, $c_1,c_2 \in C$ -- обидва ініціальні. Тоді $c_1 \cong c_2$.
\end{theorem}

\begin{proof}
За умовою, $c_1$ -- ініціальний, тоді для об'єкта $c_1$ існує єдиний морфізм $\alpha \colon c_1 \to c_2$. Аналогічно, $c_2$ -- ініціальний, тоді для об'єкта $c_1$ існує єдиний морфізм $\beta \colon c_2 \to c_1$. Розглянемо композицію $\beta \alpha \colon c_1 \to c_1$ -- такий морфізм буде єдиним в силу єдиності $\alpha,\beta$. У категорії точно існує морфізм $1_{c_1} \colon c_1 \to c_1$ -- отже, в силу єдиності такого морфізму, $\beta \alpha = 1_{c_1}$. Аналогічно доводиться, що $\alpha \beta = 1_{c_2}$.\\
Значить, $\alpha \colon c_1 \to c_2$ буде ізоморфізмом.
\end{proof}

\begin{theorem}
Задано $C$ -- категорія, $d_1,d_2 \in C$ -- обидва термінальні. Тоді $d_1 \cong d_2$.\\
\textit{Вправа: довести.}
\end{theorem}

\subsection{Добуток}
\begin{definition}
Задано $C$ -- категорія та $\{c_1,c_2\}$ -- сім'я об'єктів $C$. Сформуємо категорію $\textbf{D}_{\text{pr}}$ таким чином:\\
об'єктами будуть пари $(x,\{\alpha_1,\alpha_2\})$, де $x$ -- об'єкт в $C$ та $\alpha_1 \colon x \to c_1, \alpha_2 \colon x \to c_2$ -- морфізми в $C$;
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[ld,red,"\alpha_1"] x \arrow[rd,red,swap,"\alpha_2"] & \\
c_1 & & c_2
\end{tikzcd}
\end{figure}
\noindent морфізмом між об'єктами $(x,\{\alpha_1,\alpha_2\}) \to (y,\{\beta_1,\beta_2\})$ будуть всі морфізми $\gamma \colon x \to y$, для яких $\beta_1 \gamma = \alpha_1,\ \beta_2 \gamma = \alpha_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[rdd,bend right = -45, "\beta_1"] y \arrow[d,red,"\gamma"] \arrow[ldd,bend right = 45, swap, "\beta_2"] & \\
& \arrow[ld,"\alpha_1"] x \arrow[rd,swap,"\alpha_2"] & \\
c_1 & & c_2
\end{tikzcd}
\end{figure}
\noindent композицією морфізмів буде композиція, як в категорії $C$.\\
\textbf{Добутком} сім'ї $\{c_1,c_2\}$ називають термінальний об'єкт категорії $\textbf{D}_{\text{pr}}$.
\end{definition}

\noindent Позначимо термінальний об'єкт за $(p,\{\pi_1,\pi_2\})$. Тоді за означенням термінальності, для кожного об'єкта $(x,\{\alpha_1,\alpha_2\})$ існує єдиний морфізм між $(x,\{\alpha_1,\alpha_2\})$ та $(p,\{\pi_1,\pi_2\})$. Тобто це означає, що існує єдиний морфізм $\gamma \colon x \to p$ в категорії $C$, для якого $\pi_1 \gamma = \alpha_1,\ \pi_2 \gamma = \alpha_2$.
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[rdd,bend right = -45, "\alpha_1"] x \arrow[d,red,"\gamma"] \arrow[ldd,bend right = 45, swap, "\alpha_2"] & \\
& \arrow[ld,"\pi_1"] p \arrow[rd,swap,"\pi_2"] & \\
c_1 & & c_2
\end{tikzcd}
\end{figure}
\noindent  Використовується позначення $p = c_1 \times c_2$; морфізми $\pi_1 \colon c_1 \times c_2 \to c_1,\ \pi_2 \colon c_1 \times c_2 \to c_2$ називаються \textbf{проєктивними морфізмами}.

\begin{remark}
Аналогічним чином можна визначити в категорії $C$ добуток деякої сім'ї об'єктів $\{c_i, i \in I\}$. Позначення: $p = \displaystyle\prod_{i \in I} c_i$.
\end{remark}

\begin{example}
Розглянемо категорію $\Set$. Розглянемо сім'ю множин $\{X_i,i \in I\}$. Добутком цієї сім'ї множин є множина всіх функцій $f \colon I \to \displaystyle\bigcup_{i \in I} X_i$ таких, що $f(i) \in X_i$ для всіх $i \in I$. Це можна записати таким чином:
\begin{align*}
P = \prod_{i \in I} X_i = \left\{ f \colon I \to \bigcup_{i \in I} X_i \mid f(i) \in X_i, \forall i \in I \right\}
\end{align*}
Для кожного $i \in I$ визначимо проєкцію $\pi_i \colon P \to X_i$ таким чином: $\pi_i(f) = f(i)$.\\
Доведемо, що пара $(P,\{\pi_i\})$ буде утворювати добуток сім'ї $\{X_i\}$ (у категоріальному сенсі).
\end{example}

\begin{proof}
Нехай $Y$ -- об'єкт з морфізмами $\alpha_i \colon Y \to X_i$. Хочемо знайти єдиний морфізм $\gamma \colon Y \to P$, щоб $\alpha_i = \pi_i \gamma$. Покладемо $\gamma \colon Y \to P$ таким чином: $\forall y \in Y: \gamma(y)$ буде функцією $I \to \displaystyle\bigcup_{i \in I} X_i$, причому $\forall i \in I: \gamma(y)_i = \alpha_i(y)$. Тоді $\pi_i \gamma(y) = \pi_i(\gamma(y)) = \gamma(y)_i = \alpha_i(y)$, тобто звідси $\pi_i \gamma = \alpha_i$ для всіх $i \in I$.\\
!Припустимо, що існує функція $\gamma' \colon Y \to P$, для якої $\pi_i \gamma' = \alpha_i$. Тобто для кожного $y \in Y$ та кожного $i \in I$ виконано $\gamma'(y)(i) = \alpha_i(x)$. Але тоді $\gamma'(y)(i) = \pi_i(\gamma'(y)) = \pi_i \gamma'(y) = \alpha_i(y) = \gamma(y)(i)$. Суперечність!
\end{proof}

\begin{example}
Розглянемо категорію $\Grp$. Насправді, все так само робиться, як в категорії $\Set$, ось тільки кожний $X_i$ тепер буде групою. Визначаємо декартів добуток $P$ -- це буде група зі покомпонентним множенням: $(fg)(i) = f(i)g(i)$. Це ще називають \textbf{(зовнішнім) прямим добутком груп}. Проєктивні відображення $\pi_i$ будуть гомоморфізмами. Далі все те саме.
\bigskip \\
Для категорій $\Rng, {}_R \Mod$ все аналогічно.
\end{example}

\begin{example}
Залишилася категорія $\Top$. Маємо $(X_i,\tau_i)$ -- топологічні простори. Добуток топології для $P = \displaystyle\prod_{i \in I} X_i$, як відомо, породжується передбазою $\mathcal{S} = \displaystyle\bigcup_{i \in I}\left\{ \pi_i^{-1}(U) \mid U \text{ -- відкрита в } X_i \right\}$. Це дозволяє нам створити таку топологію, що всі $\pi_i \colon P \to X_i$ стануть неперервними.\\
Доведемо, що $\gamma \colon X \to P$, що була визначена вище, -- неперервна. Оскільки ми створили топологію через передбазу, нам достатньо довести, що $\gamma^{-1}(\pi_i^{-1}(U))$ -- відкриті.\\
$\gamma^{-1}(\pi_i^{-1}(U)) = (\pi \gamma)^{-1}(U) = \alpha_i^{-1}(U)$ -- відкрита, бо $\alpha_i$ припускалася, що неперервна.\\
Той факт, що $(P,\{\pi_i\})$ задає добуток, доводиться аналогічно.
\end{example}

\subsection{Кодобуток}
\begin{definition}
Задано $C$ -- категорія та $\{c_1,c_2\}$ -- сім'я об'єктів $C$. Сформуємо категорію $\textbf{D}_{\text{copr}}$ таким чином:\\
об'єктами будуть пари $(x,\{\alpha_1,\alpha_2\})$, де $x$ -- об'єкт в $C$ та $\alpha_1 \colon c_1 \to x, \alpha_2 \colon c_2 \to x$ -- морфізми в $C$;
\begin{figure}[H]
\centering
\begin{tikzcd}
& x & \\
c_1 \arrow[ru,red,"\alpha_1"]  & & c_2 \arrow[lu,red,swap,"\alpha_2"] 
\end{tikzcd}
\end{figure}
\noindent морфізмом між об'єктами $(x,\{\alpha_1,\alpha_2\}) \to (y,\{\beta_1,\beta_2\})$ будуть усі морфізми $\gamma \colon x \to y$, для яких $\gamma \alpha_1 = \beta_1,\ \gamma \alpha_2 = \beta_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
& y & \\
& x \arrow[u,red,"\gamma"] & \\
c_1 \arrow[ruu,bend left = 45, "\beta_1"] \arrow[ru,"\alpha_1"] & & c_2 \arrow[lu,swap,"\alpha_2"] \arrow[luu,bend right = 45, swap, "\beta_2"]
\end{tikzcd}
\end{figure}
\noindent композицією морфізмів буде композиція, як в категорії $C$.\\
\textbf{Кообутком} сім'ї $\{c_1,c_2\}$ називають ініціальний об'єкт категорії $\textbf{D}_{\text{copr}}$.
\end{definition}

\noindent Позначимо ініціальний об'єкт за $(q,\{\imath_1,\imath_2\})$. Тоді за означенням ініціальності, для кожного об'єкта $(x,\{\alpha_1,\alpha_2\})$ існує єдиний морфізм між $(q,\{\imath_1,\imath_2\})$ та $(x,\{\alpha_1,\alpha_2\})$. Тобто це означає, що існує єдиний морфізм $\gamma \colon q \to x$ в категорії $C$, для якого $\gamma \imath_1 = \alpha_1,\ \gamma \imath_2 = \alpha_2$.
\begin{figure}[H]
\centering
\begin{tikzcd}
& y & \\
& x \arrow[u,red,"\gamma"] & \\
c_1 \arrow[ruu,bend left = 45, "\alpha_1"] \arrow[ru,"\imath_1"] & & c_2 \arrow[lu,swap,"\imath_2"] \arrow[luu,bend right = 45, swap, "\alpha_2"]
\end{tikzcd}
\end{figure}
\noindent  Використовується позначення $p = c_1 \sqcup c_2$; морфізми $\imath_1 \colon c_1 \to c_1 \sqcup c_2,\ \imath_2 \colon c_2 \to c_1 \sqcup c_2$ називаються \textbf{морфізмами вкладень}.

\begin{remark}
Аналогічним чином можна визначити в категорії $C$ кодобуток деякої сім'ї об'єктів $\{c_i, i \in I\}$. Позначення: $q = \displaystyle\coprod_{i \in I} c_i$.
\end{remark}

\begin{example}
Розглянемо категорію $\Set$. Розглянемо сім'ю множин $\{X_i, i \in I\}$ (якусь довільну). Визначимо множину $Q$ ось так: $Q = \displaystyle\bigsqcup_{i} X_i'$, де в цьому випадку $X_i' = \{(x,i) \mid x \in X_i\}$ для всіх $i$. Причому варто зауважити, що $X_i'$ дійсно неперетинні, а також $X_i' \cong X_i$. Визначимо відображення $\imath_i \colon X_i \to Q$ таким чином: $\imath_i(x) = (x,i)$.\\
Доведемо, що пара $(Q,\{\imath_i\})$ буде утворювати кодобуток сім'ї $\{X_i\}$ (у категоріальному сенсі).
\end{example}

\begin{proof}
Нехай $(X,\{\alpha_i\})$ -- будь-який об'єкт $\textbf{D}_{\text{copr}}$. Визначимо відображення $\gamma \colon Q \to X$ ось таким чином: $\gamma((x,i)) = \alpha_i(x)$. Зауважимо, що для всіх $i$ та всіх $x \in X$ ми маємо $\gamma \circ \imath_i(x) = \gamma((x,i)) = \alpha_i(x)$.\\
Значить, $\gamma$ буде морфізмом між цими двома об'єктами. Доведемо, що такий морфізм єдиний.\\
Оберемо морфізм $\gamma'$, який діє між двома об'єктами, тобто $(Q,\{\imath_i\})$ та $(X,\{\alpha_i\})$. Тоді раз це морфізм, то справедлива рівність $\gamma' \circ \imath_i = \alpha_i$ для всіх $i$. Проте з іншого боку, $\alpha_i(x) = \gamma((x,i))$. Значить, $\gamma((x,i)) = \alpha_i(x) = \gamma' \circ \imath_i (x) = \gamma'((x,i))$.
\end{proof}

\begin{example}
Розглянемо категорію. $\Top$. Як і в категорії $\Set$, розглянемо сім'ю множин $\{X_i, i \in I\}$ (тільки тут вже топологічні простори). Визначимо множину $Q$ так само, як було вище. На ній задається така топологія: $U$ -- відкрита в $Q$ $\iff$ $\imath_i^{-1}(U)$ -- відкрита в $X_i$ для всіх $i$. Тоді всі функції $\imath_i \colon X_i \to Q$, як було визначено вище, будуть неперервними. Далі аналогічним чином доводимо, що пара $(Q,\{\imath_i\})$ утворює кодобуток.
\end{example}

\begin{example}
Розглянемо категорію ${}_R \Mod$. Нехай $\{M_i\}$ -- сім'я модулів над кільцем $R$ та позначимо $M = \displaystyle\bigoplus_{i} M_i$, який є підмодулем модуля $\displaystyle\prod_{i} M_i$. Просто тому що
\begin{align*}
M = \bigoplus_{i} M_i = \left\{ m \in \prod_{i} M_i \mid m_i \neq 0 \text{ лише для скінченного числа індексів } i \right\}
\end{align*}
Визначимо відображення $\imath_i \colon M_i \to M$ таким чином: $\imath_i(m)_j = \delta_{ij}(m)$, де $\delta_{ij}$ -- Кронекер-дельта символ, який повертає $m$ при $i = j$ або $0$ в інакшому випадку. Покажемо, що $(M,\{\imath_i\})$ буде утворювати кодобуток.
\end{example}

\begin{proof}
Нехай $(N,\{\alpha_i\})$ -- об'єкт категорії $\textbf{D}_{\text{copr}}$. Визначимо відображення $\gamma \colon M \to N$ таким чином: $\gamma(m) = \displaystyle\sum_i \alpha_i(m_i)$ (це скінченна сума, тому все тут коректно). Неважко пересвідчитися буде, що $\gamma$ задає $R$-лінійне відображення. Також $\gamma \imath_i = \alpha_i$ для всіх $i$. Дійсно,\\
$\gamma \imath_i(m) = \displaystyle\sum_{j} \alpha_j(\imath_i(m)_j) = \sum_j \alpha_j(\delta_{ij}(m)) = \alpha_i(m)$.\\
Таким чином, $\gamma$ -- морфізм в $\textbf{D}_{\text{copr}}$.\\
Припустимо, що $\gamma'$ -- інший морфізм між $(M,\{\imath_i\})$ та $(N,\{\alpha_i\})$. Зафіксуємо $m \in M$. Для всіх $j$ маємо:\\
$m_j = \displaystyle\sum_i \delta_{ij}(m_i) = \sum_{i} \imath_i(m_i)_j = \left( \sum_{i} \imath_i(m_i) \right)_j \implies m = \sum_i \imath_i(m_i)$.\\
$\gamma'(m) = \displaystyle\gamma'\left( \sum_i \imath_i(m_i) \right) = \sum_i \gamma' \imath_i(m_i) = \sum_i \alpha_i(m_i) = \gamma(m)$.
\bigskip \\
Якщо покласти кільце $R = \mathbb{Z}$, то доведемо, що для категорії $\Ab$ існує кодобуток. Так само якщо покласти кільце $R = F$ -- поле, то доведемо, що для категорії $\Vect_F$ теж існує кодобуток.
\end{proof}

%TODO додати приклади кодобутків на решту категорій

\subsection{Зрівняльник}
\begin{definition}
Задано $C$ -- категорія та $\lambda_1,\lambda_2 \colon a \to b$ -- два морфізми.
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b
\end{tikzcd}
\end{figure}
\noindent
Сформуємо категорію $\textbf{D}_{\text{eq}}$ таким чином:\\
об'єктами будуть пари $(x,\alpha)$, де $x$ -- об'єкт категорії $C$ та $\alpha \colon x \to a$ -- морфізм в $C$, щоб $\lambda_1 \alpha = \lambda_2 \alpha$;
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[r,"\alpha"] & a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b
\end{tikzcd}
\end{figure}
\noindent
морфізмом між об'єктами $(x,\alpha) \to (y,\beta)$ буде морфізм $\gamma \colon x \to y$ категорії $C$, для якого $\beta \gamma = \alpha$;
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rd,"\alpha"] \arrow[dd, swap, "\gamma"] & & \\
& a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \\
y \arrow[ru,"\beta"] & &
\end{tikzcd}
\end{figure}
\noindent
композицією морфізмів буде просто композиція в категорії $C$.\\
\textbf{Зрівняльником} (або \textbf{equalizer}) $\lambda_1,\lambda_2$ будемо називати термінальний об'єкт категорії $\textbf{D}_{\text{eq}}$.
\bigskip \\
Позначимо термінальний об'єкт за $(p,\imath)$. Тоді за означенням термінальності, для кожного об'єкта $(x,\alpha)$ існує єдиний морфізм між $(x,\alpha)$ та $(p,\imath)$. Тобто це означає, що існує єдиний морфізм $\gamma \colon x \to p$ в категорії $C$, для якого $\imath \gamma = \alpha$ -- тобто такий морфізм, що діаграма нижче комутується:
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rd,"\alpha"] \arrow[dd, swap, "\exists! \gamma"] & & \\
& a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \\
p \arrow[ru,"\imath"] & &
\end{tikzcd}
\end{figure}
\end{definition}

\begin{example}
Розглянемо категорію $\Set$. Нехай $\lambda_1,\lambda_2 \colon A \to B$ -- два відображення. Покладемо $P = \{a \in A \mid \lambda_1(a) = \lambda_2(a)\}$ та $\imath \colon P \to A$ -- вкладення. Тоді $\lambda_1 \imath = \lambda_2 \imath$ (тобто звідси $(P,\imath)$ буде об'єктом категорії $\textbf{D}_{\text{eq}}$, який був зазначений вище). Стверджується, що $(P,\imath)$ -- зрівнальник $\lambda_1,\lambda_2$.\\
Нехай $(X,\alpha)$ -- довільний об'єкт категорії $\textbf{D}_{\text{eq}}$. Для кожного $x \in X$ ми маємо $\lambda_1(\alpha(x)) = \lambda_1 \alpha (x) = \lambda_2 \alpha(x) = \lambda_2(\alpha(x))$, тобто $\Im \alpha \subset P$. Оберемо відображення $\gamma \colon X \to P$ так, що $\gamma = \alpha$. Тоді звідси $\imath \gamma = \alpha$, тобто $\gamma$ -- морфізм між об'єктами $(X,\alpha) \to (P,\imath)$.\\
Оскільки $\imath$ -- ін'єктивний (як вкладення), то тоді це мономорфізм. Отже, $\gamma$ -- єдиний такий морфізм.
\end{example}

\begin{example}
Розглянемо категорію $\Top$. Нехай $\lambda_1, \lambda_2 \colon A \to B$ -- неперервні відображення. Визначимо $P, \imath$ так само, як в попередньому прикладі (оскільки $P \subset A$, то можна визначити топологічний підпростір). Таким чином, $\imath$ уже буде неперервним. Далі так само доводимо, що $(P,\imath)$ -- зрівнальник $\lambda_1,\lambda_2$.
\end{example}

\begin{example}
Розглянемо категорію $\Grp$. Нехай $\lambda_1,\lambda_2 \colon A \to B$ -- два гомоморфізми груп та $P$ -- така сама множина, що в попередньому прикладі, яка є підгрупою $A$, тож $\imath \colon P \to A$ (знову вкладення) -- гомоморфізм груп. Далі так само доводимо, що $(P,\imath)$ -- зрівнальник $\lambda_1,\lambda_2$.
\bigskip \\
Аналогічно для категорій $\Rng, {}_R\Mod$.
\end{example}

\begin{proposition}
Задано $C$ -- категорія та $\lambda_1, \lambda_2 \colon a \to b$ -- два морфізми. Припустимо, що $(p,\imath)$ -- зрівняльник $\lambda_1,\lambda_2$. Тоді $\imath$ -- мономорфізм.
\end{proposition}

\begin{proof}
Нехай $\beta_1,\beta_2 \colon x \to p$ -- морфізми категорії $C$, для яких $\imath \beta_1 = \imath \beta_2$. Для зручності позначу $\imath \beta_1 = \alpha$.\\
Оскільки $(p,\imath)$ -- об'єкт категорії $\textbf{D}_{\text{eq}}$, ми маємо наступне:\\
$\lambda_1 \alpha = (\lambda_1 \imath) \beta_1 = (\lambda_2 \imath) \beta_1 = \lambda_2 \alpha$.\\
Отже, $(x,\alpha)$ -- також об'єкт категорії $\textbf{D}_{\text{eq}}$.
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rd,"\alpha"] \arrow[dd, shift left, swap, "\beta_1" {xshift=14pt}] \arrow[dd, shift right, swap, "\beta_2"] & & \\
& a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \\
p \arrow[ru,"\imath"] & &
\end{tikzcd}
\end{figure}
\noindent За початковими припущеннями, $\imath \beta_1 = \alpha$, $\imath \beta_2 = \alpha$. Але за єдиністю відображення з такими властивостями (зважаючи на означення зрівняльника), $\beta_1 = \beta_2$. Звідси $\imath$ -- мономорфізм.
\end{proof}

\subsection{Козрівняльник}
\begin{definition}
Задано $C$ -- категорія та $\lambda_1,\lambda_2 \colon a \to b$ -- два морфізми.
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b
\end{tikzcd}
\end{figure}
\noindent
Сформуємо категорію $\textbf{D}_{\text{coeq}}$ таким чином:\\
об'єктами будуть пари $(x,\alpha)$, де $x$ -- об'єкт категорії $C$ та $\alpha \colon b \to x$ -- морфізм в $C$, щоб $\alpha \lambda_1 = \alpha \lambda_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \arrow[r, "\alpha"] & x
\end{tikzcd}
\end{figure}
\noindent
морфізмом між об'єктами $(x,\alpha) \to (y,\beta)$ буде морфізм $\gamma \colon x \to y$ категорії $C$, для якого $\gamma \alpha = \beta$;
\begin{figure}[H]
\centering
\begin{tikzcd}
& & y \\
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \arrow[ru,"\beta"] \arrow[rd,"\alpha"] & \\
& & x \arrow[uu, swap, "\gamma"]
\end{tikzcd}
\end{figure}
\noindent
композицією морфізмів буде просто композиція в категорії $C$.\\
\textbf{Козрівняльником} (або \textbf{coequalizer}) $\lambda_1,\lambda_2$ будемо називати ініціальний об'єкт категорії $\textbf{D}_{\text{coeq}}$.
\bigskip \\
Позначимо ініціальний об'єкт за $(q,\pi)$. Тоді за означенням ініціальності, для кожного об'єкта $(x,\alpha)$ існує єдиний морфізм між $(q,\pi)$ та $(x,\alpha)$. Тобто це означає, що існує єдиний морфізм $\gamma \colon q \to x$ в категорії $C$, для якого $\gamma \pi = \alpha$ -- тобто такий морфізм, що діаграма нижче комутується:
\begin{figure}[H]
\centering
\begin{tikzcd}
& & x \\
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \arrow[ru,"\beta"] \arrow[rd,"\pi"] & \\
& & q \arrow[uu, swap, "\exists! \gamma"]
\end{tikzcd}
\end{figure}
\end{definition}

%TODO add examples of coequalizer

\begin{proposition}
Задано $C$ -- категорія та $\lambda_1, \lambda_2 \colon a \to b$ -- два морфізми. Припустимо, що $(q,\pi)$ -- козрівняльник $\lambda_1,\lambda_2$. Тоді $\imath$ -- епіморфізм.\\
\textit{Насправді, доведення є аналогічним, коли мова була про зрівняльник $\implies$ мономорфізм.}
\end{proposition}

\subsection{Пулбек}
\begin{definition}
Задано $C$ -- категорія та $\lambda_1 \colon a_1 \to b,\ \lambda_2 \colon a_2 \to b$ -- морфізми.
\begin{figure}[H]
\centering
\begin{tikzcd}
& a_2 \arrow[d,"\lambda_2"] \\
a_1 \arrow[r, "\lambda_1"] & b
\end{tikzcd}
\end{figure}
\noindent
Сконструюємо категорію $\textbf{D}_{\text{pb}}$ ось таким чином:\\
об'єктами будуть пари $(x,(\alpha_1,\alpha_2))$, де $x$ -- об'єкт категорії $C$ та $\alpha_1 \colon x \to a_1,\ \alpha_2 \colon x \to a_2$ -- два морізми категорії $C$, для яких $\lambda_1 \alpha_1 = \lambda_2 \alpha_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[red,r,"\alpha_2"] \arrow[red,d,"\alpha_1"] & a_2 \arrow[d,"\lambda_2"] \\
a_1 \arrow[r, "\lambda_1"] & b
\end{tikzcd}
\end{figure}
\noindent
морфізмами між об'єктами $(x,(\alpha_1,\alpha_2))$ та $(y,(\beta_1,\beta_2))$ будуть всі морфізми $\gamma \colon x \to y$ категорії $C$, для яких $\beta_1 \gamma = \alpha_1,\ \beta_2 \gamma = \alpha_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rrd, bend left=20, "\alpha_2"] \arrow[ddr, bend right = 20, swap, "\alpha_1"] \arrow[red, dr, "\gamma"] & & & \\
& y \arrow[r,"\beta_2"] \arrow[d,"\beta_1"] & a_2 \arrow[d,"\lambda_2"] \\
& a_1 \arrow[r, "\lambda_1"] & b
\end{tikzcd}
\end{figure}
\noindent
композицією морфізмів буде композиція, як в категорії $C$.\\
\textbf{Пулбеком} пари морфізмів $(\lambda_1,\lambda_2)$ будемо називати термінальний об'єкт категорії $\textbf{D}_{\text{pb}}$.
\end{definition}
\noindent
Позначимо термінальний об'єкт за $(p,(\sigma_1,\sigma_2))$. Тоді за означенням термінальності, для кожного об'єкта $(x,(\alpha_1,\alpha_2))$ існує єдиний морфізм між $(x,(\alpha_1,\alpha_2))$ та $(p,(\sigma_1,\sigma_2))$. Тобто це означає, що існує єдиний морфізм $\gamma \colon x \to p$ в категорії $C$, для якого $\sigma_1 \gamma = \alpha_1,\ \sigma_2 \gamma = \alpha_2$. 
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rrd, bend left=20, "\alpha_2"] \arrow[ddr, bend right = 20, swap, "\alpha_1"] \arrow[dr, dashed, "\exists ! \gamma"] & & & \\
& p \arrow[r,"\sigma_2"] \arrow[d,"\sigma_1"] & a_2 \arrow[d,"\lambda_2"] \\
& a_1 \arrow[r, "\lambda_1"] & b
\end{tikzcd}
\end{figure}

\begin{example}
Розглянемо категорію $\Set$. Нехай $\lambda_i \colon A_i \to B (i = 1,2)$ будуть дві функції. Визначимо $A_1 \times_B A_2 = \{(a_1,a_2) \mid a_i \in A_i, i = 1,2, \lambda(a_1) = \lambda(a_2)\} \subset A_1 \times A_2$. Така множина називається \textbf{розшарованим добутком} $\lambda_1,\lambda_2$. \\
Покладемо $P = A_1 \times_B A_2$ та визначимо $\sigma_i \colon P \to A_i$ таким чином: $\sigma_i((a_1,a_2)) = a_i, i = 1,2$. Зауважимо, що $\lambda_1 \sigma_1 = \lambda_2 \sigma_2$. Дійсно, для $a = (a_1,a_2) \in P$ маємо наступне:\\
$\lambda_1 \sigma_1(a) = \lambda_1(a_1) = \lambda_2(a_2) = \lambda_2 \sigma_2(a)$.\\
Отже, $(P,(\sigma_1,\sigma_2))$ -- об'єкт допоміжної категорії $\textbf{D}_{\text{pb}}$. Я стверджую, що цей об'єкт буде пулбеком пари $(\lambda_1,\lambda_2)$.\\
Нехай $(X,(\alpha_1,\alpha_2))$ -- об'єкт категорії $\textbf{D}_{\text{pb}}$. Визначимо $\gamma \colon X \to P$ таким чином $\gamma(x) = (\alpha_1(x),\alpha_2(x))$. Зауважимо, що $(\alpha_1(x),\alpha_2(x)) \overset{\text{дійсно}}{\in} P$, оскільки $\lambda_1(\alpha_1(x)) = \lambda_2(\alpha_2(x))$ (в силу обраного об'єкта з $\textbf{D}_{\text{pb}}$). Також зазначимо, що $\sigma_i \gamma = \alpha_i, i = 1,2$, тому це формує морфізм між $(X,(\alpha_1,\alpha_2))$ та $(P,(\sigma_1,\sigma_2))$. Залишилося довести єдиність.\\
Нехай $\gamma'$ -- інший морфізм між $(X,(\alpha_1,\alpha_2))$ та $(P,(\sigma_1,\sigma_2))$.\\
$\gamma'(x) = (\sigma_1 \gamma'(x), \sigma_2 \gamma'(x)) = (\alpha_1(x),\alpha_2(x)) = \gamma(x)$.\\
Тобто $\gamma' = \gamma$, що доводить єдиність морфізма.
\end{example}

\begin{example}
Розглянемо категорію $\Top$. Нехай $\lambda_i \colon A_i \to B (i = 1,2)$ -- уже неперервні відображення, на $A_1 \times A_2$ покладемо добуток топологій $A_1,A_2$, а також $P = A_1 \times_B A_2$ -- топологічний підпростір $A_1 \times A_2$. Відображення $\sigma_i \colon P \to A$, які визначали минулого разу, -- це звуження проєктивного відображення $A_1 \times A_2 \to A_i$ (що є неперервним), тому $\sigma_i$ -- неперервні. Аналогічно доводиться, що $(P,(\sigma_1,\sigma_2))$ утворює пулбек. Тільки ще варто зауважити, що $\gamma \colon X \to P \subset A_1 \times A_2$, що було визначено як $\gamma(x) = (\alpha_1(x),\alpha_2(x))$, буде теж неперервним, оскільки кожний $\alpha_i$ -- неперервний.
\end{example}

\begin{example}
Розглянемо категорію $\Grp$. Нехай $\lambda_i \colon A_i \to B (i = 1,2)$ -- уже гомоморфізм груп, на $A_1 \times A_2$ стоїть прямий добуток груп $A_1,A_2$, а також $P = A_1 \times_B A_2$ -- підгрупа $A_1 \times A_2$ (вправа: довести). Також $\sigma_i, \gamma$, що задані так само, як було вище, -- гомоморфізми. Тому $(P,(\sigma_1,\sigma_2))$ утворює пулбек за аналогічними міркуваннями.
\bigskip \\
Абсолютно аналогічно можна сказати про $\Rng, {}_R \Mod$.
\end{example}

\begin{theorem}
Задано $C$ -- категорія.\\
Існують зрівняльники та скінченні добутки в $C \iff$ існують пулбеки та термінальний об'єкт категорії $C$.
\end{theorem}

\begin{proof}
\rightproof Дано: існують зрівняльники та скінченні добутки в $C$.\\
Добуток порожньої сім'ї об'єктів уже автоматично термінальний (TODO: обдумати).\\
Залишилося показати існування пулбеку. Нехай $\lambda_i \colon a_i \to b$ -- два морфізми категорії $C$. За нашими умовами, існує добуток $(a_1 \times a_2, \{\pi_i\})$ сім'ї $\{a_1,a_2\}$, тобто існує термінальний об'єкт категорії $\textbf{D}_{\text{pr}}$. Тобто у нас є одна діаграма:
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[ldd, bend right=45, swap, "\alpha_1"] x \arrow[d,dashed,"\delta"] \arrow[rdd, bend right=-45, "\alpha_2"] & \\
& \arrow[dl, "\pi_1"] a_1 \times a_2 \arrow[dr, swap, "\pi_2"] & \\
a_1 & & a_2 
\end{tikzcd}
\caption*{Хто такий об'єкт $x$ та звідки морфізми $\alpha_1,\alpha_2$, буде ясно пізніше.}
\end{figure}
\noindent
Також за умовою, існує зрівняльник для морфізмів $\lambda_1 \pi_1,\ \lambda_2 \pi_2$. Тобто у нас є друга діаграма:
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rd,"\delta"] \arrow[dd, dashed, swap, "\exists! \gamma"] & & \\
& a_1 \times a_2 \arrow[r, shift left, "\lambda_1 \pi_1"] \arrow[r, shift right, "\lambda_2 \pi_2" {yshift=-10pt}] & b \\
p \arrow[ru,"\imath"] & &
\end{tikzcd}
\caption*{Морфізм $\delta$ ми взяли з попередньої діаграми, а про об'єкт $x$ та морфізм $\gamma$ буде згодом.}
\end{figure}
\noindent Покладемо $\sigma_i = \pi_i \imath$. Зауважимо, що $\lambda_1 \sigma_1 = \lambda_1 \pi_1 \imath = \lambda_2 \pi_2 \imath = \lambda_2 \sigma_2$. Таким чином, $(p,(\sigma_1,\sigma_2))$ -- об'єкт категорії $\textbf{D}_{\text{pb}}$. Залишилося показати, що це -- термінальний -- і таким чином ми отримаємо пулбек.\\ 
Нехай $(x,(\alpha_1,\alpha_2))$ -- об'єкт категорії $\textbf{D}_{\text{pb}}$ (тепер з об'єктом $x$ та морфізмами $\alpha_1,\alpha_2$ на діаграмі стало ясніше). Тобто уже маємо $\lambda_1 \alpha_1 = \lambda_2 \alpha_2$. Ми також маємо $\lambda_1 \pi_1 \delta = \lambda_1 \alpha_1 = \lambda_2 \alpha_2 = \lambda_2 \pi_2 \delta$, тож звідси $(x,\delta) \in \textbf{D}_{\text{eq}}$. Тоді за зрівняльником, існує морфізм $\gamma \colon x \to p$, для якого $\imath \gamma = \delta$ (тепер з морфізмом $\gamma$ стало ясніше).\\
Зауважимо, що $\sigma_i \gamma = \pi_i \imath \gamma = \pi_i \delta = \alpha_i, i = 1,2$, тобто звідси $\gamma$ -- це морфізм в $\textbf{D}_{\text{pb}}$ між об'єктами $(x,(\alpha_1,\alpha_2))$ та $(p,(\sigma_1,\sigma_2))$.\\
Припустимо, що $\gamma'$ -- ще один такий же морфізм. Тоді $\pi_i \imath \gamma' = \sigma_i \gamma' = \alpha_i$ та аналогічно $\pi \imath \gamma = \alpha_i$. Але за єдиністю в добутку, $\imath \gamma' = \imath \gamma$. Оскільки $\imath$ -- мономорфізм, то звідси $\gamma' = \gamma$.
\bigskip \\
\leftproof Дано: існують пулбеки та термінальний об'єкт категорії $C$.\\
Позначимо $t$ за термінальний об'єкт $C$. Хочемо довести, що існує скінченний добуток в $C$; а для цього буде достатньо лише довести, що для сім'ї $\{a_1,a_2\}$ (тобто лише для двох об'єктів) існує добуток (TODO: додати пояснення).\\
Оскільки $t$ -- термінальний, то існують єдині морфізми $\lambda_i \colon a_i \to t, i = 1,2$ в категорії $C$. За умовою, існує пулбек для пари $(\lambda_1,\lambda_2)$, тобто в категорії $\textbf{D}_{\text{pb}}$ існує термінальний об'єкт $(p,(\pi_1,\pi_2))$ (те, що $\pi_i$ -- це проєкція, на даному етапі це невідомо, але скоро своє позначення виправдає). У нас вже є перша діаграма:
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rrd, bend left=20, "\alpha_2"] \arrow[ddr, bend right = 20, swap, "\alpha_1"] \arrow[dr, dashed, "\exists ! \gamma"] & & & \\
& p \arrow[r,"\pi_2"] \arrow[d,"\pi_1"] & a_2 \arrow[d,"\lambda_2"] \\
& a_1 \arrow[r, "\lambda_1"] & t
\end{tikzcd}
\caption*{Хто такий об'єкт $x$ та морфізм $\gamma$, стане зараз ясно.}
\end{figure}
\noindent Ми тепер хочемо довести, що $(p,\{\pi_i\})$ утворює добуток сім'ї $\{a_1,a_2\}$. Тобто хочемо таку діаграму:
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[ldd, bend right=45, swap, "\alpha_1"] x \arrow[d,dashed,"\gamma"] \arrow[rdd, bend right=-45, "\alpha_2"] & \\
& \arrow[dl, "\pi_1"] p \arrow[dr, swap, "\pi_2"] & \\
a_1 & & a_2 
\end{tikzcd}
\caption*{Знову ж таки, хто такий $x$ та морфізм $\gamma$, стане скоро ясно.}
\end{figure}
\noindent Нехай $(x,\{\alpha_i\})$ -- об'єкт категорії $\textbf{D}_{\text{pr}}$ (тепер за $x$ стало ясно на діаграмах). Тоді зауважимо, що $\lambda_i \alpha_i \colon x \to t, i = 1,2$ -- два морфізми в термінальний об'єкт, тож за єдиністю, $\lambda_1 \alpha_1 = \lambda_2 \alpha_2$. Але це означає, що пара $(x,(\alpha_1,\alpha_2))$ буде об'єктом категорії $\textbf{D}_{\text{pb}}$, тоді за термінальністю $\textbf{D}_{\text{pb}}$, існує єдиний морфізм $\gamma \colon x \to p$ категорії $C$, для якої $\pi_i \gamma = \alpha_i$ (тепер і про $\gamma$ стало ясно на діаграмах). Власне, це й доводить існування добутку.
\bigskip \\
Залишилося довести, що існують зрівняльники в $C$. Нехай $\lambda_i \colon a \to b$ -- два морфізми категорії $C$.
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b
\end{tikzcd}
\end{figure}
\noindent
Ми вже знаємо вище, що існує $(a \times b, \{\pi_i\})$ -- добуток сім'ї $\{a,b\}$. Двіча застосуємо означення добутку -- отримаємо морфізми $\lambda_1', \lambda_2' \colon a \to a \times b$, для яких справедливі:\\
$\pi \lambda_1' = 1_a \qquad \pi_1 \lambda_2' = 1_a \qquad \pi_1 \lambda_1' = \lambda_1 \qquad \pi_2 \lambda_2' = \lambda_2$ \qquad (*).
\begin{figure}[H]
\centering
\begin{tikzcd}
& \arrow[ldd, bend right=45, swap, "1_a"] a \arrow[d,dashed,"\lambda_1'"] \arrow[rdd, bend right=-45, "\lambda_1"] & \\
& \arrow[dl, "\pi_1"] a \times b \arrow[dr, swap, "\pi_2"] & \\
a & & b
\end{tikzcd}
\qquad
\begin{tikzcd}
& \arrow[ldd, bend right=45, swap, "1_a"] a \arrow[d,dashed,"\lambda_2'"] \arrow[rdd, bend right=-45, "\lambda_2"] & \\
& \arrow[dl, "\pi_1"] a \times b \arrow[dr, swap, "\pi_2"] & \\
a & & b
\end{tikzcd}
\end{figure}
\noindent
За припущенням, існує пулбек для $(\lambda_1',\lambda_2')$, тобто існує термінальний об'єкт $(p,(\sigma_1,\sigma_2))$ категорії $\textbf{D}_{\text{pb}}$. Використовуючи перші дві рівності в (*), отримаємо:\\
$\sigma_1 = 1_a \sigma_1 = \pi_1 \lambda_1' \sigma_1 = \pi_1 \lambda_2' \sigma_2 = 1_a \sigma_2 = \sigma_2$.\\
Для зручності позначимо $\imath = \sigma_1 = \sigma_2$. За останніми двома рівностями в (*),\\
$\lambda_1 \imath = \pi_2 \lambda_1' \sigma_1 = \pi_2 \lambda_2' \sigma_2 = \lambda_2 \imath$.\\
Таким чином, отримали, що $(p,\imath)$ -- об'єкт $\textbf{D}_{\text{eq}}$. Хочемо довести, що $(p,\imath)$ буде зрівняльником $\lambda_1,\lambda_2$, тобто хочемо таку діаграму:
\begin{figure}[H]
\centering
\begin{tikzcd}
x \arrow[rd,"\alpha"] \arrow[dd, swap, "\gamma"] & & \\
& a \arrow[r, shift left, "\lambda_1"] \arrow[r, shift right, "\lambda_2" {yshift=-10pt}] & b \\
p \arrow[ru,"\imath"] & &
\end{tikzcd}
\end{figure}
\noindent
Нехай $(x,\alpha) \in \textbf{D}_{\text{eq}}$. Зокрема звідси $\lambda_1 \alpha = \lambda_2 \alpha \overset{\text{позн.}}{=} \beta$. Зауважимо, що $\lambda_i' \alpha, i = 1,2$ -- морфізми із $(x,(\alpha,\beta))$ в $(a \times \beta, (\pi_1,\pi_2))$. Справді,\\
$\pi_1 \lambda_i' \alpha = 1_a \alpha = \alpha \qquad \pi_2 \lambda_i' \alpha = \lambda_i \alpha = \beta$.\\
Оскільки другий об'єкт -- термінальний, то за єдиністю, $\lambda_1' \alpha = \lambda_2' \alpha$, а звідси $(x,\alpha,\alpha) \in \textbf{D}_{\text{pb}}$. Отже, звідси існує єдиний морфізм $\gamma \colon x \to p$, для якого $\sigma_i \gamma = \alpha \iff \imath \gamma = \alpha$. Остання рівність закінчує доведення за існування зрівняльника.
\end{proof}

\subsection{Пушаут}
\begin{definition}
Задано $C$ -- категорія та $\lambda_1 \colon a \to b_1,\ \lambda_2 \colon a \to b_2$ -- морфізми.
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[d, "\lambda_1"] \arrow[r,"\lambda_2"] & b_2 \\
b_1 &
\end{tikzcd}
\end{figure}
\noindent
Сконструюємо категорію $\textbf{D}_{\text{po}}$ ось таким чином:\\
об'єктами будуть пари $(x,(\alpha_1,\alpha_2))$, де $x$ -- об'єкт категорії $C$ та $\alpha_1 \colon b_1 \to x,\ \alpha_2 \colon b_2 \to x$ -- два морізми категорії $C$, для яких $\alpha_1 \lambda_1 = \alpha_2 \lambda_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[d, "\lambda_1"] \arrow[r,"\lambda_2"] & b_2 \arrow[d,red,"\alpha_2"] \\
b_1 \arrow[r,red,"\alpha_1"] & x
\end{tikzcd}
\end{figure}
\noindent
морфізмами між об'єктами $(x,(\alpha_1,\alpha_2))$ та $(y,(\beta_1,\beta_2))$ будуть всі морфізми $\gamma \colon x \to y$ категорії $C$, для яких $\gamma \alpha_1 = \beta_1,\ \gamma \alpha_2 = \beta_2$;
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[d, "\lambda_1"] \arrow[r,"\lambda_2"] & b_2 \arrow[rdd, bend left = 20, "\beta_2"] \arrow[d,"\alpha_2"] & \\
b_1 \arrow[rrd, bend right = 20, "\beta_1"] \arrow[r,"\alpha_1"] & x \arrow[dr,red,"\gamma"] & \\
& & y
\end{tikzcd}
\end{figure}
\noindent
композицією морфізмів буде композиція, як в категорії $C$.\\
\textbf{Пушаутом} пари морфізмів $(\lambda_1,\lambda_2)$ будемо називати ініціальний об'єкт категорії $\textbf{D}_{\text{pb}}$.
\end{definition}
\noindent
Позначимо ініціальний об'єкт за $(q,(\tau_1,\tau_2))$. Тоді за означенням ініціальності, для кожного об'єкта $(x,(\alpha_1,\alpha_2))$ існує єдиний морфізм між $(q,(\tau_1,\tau_2))$ та $(x,(\alpha_1,\alpha_2))$. Тобто це означає, що існує єдиний морфізм $\gamma \colon q \to x$ в категорії $C$, для якого $\gamma  \tau_1 = \alpha_1,\ \gamma \tau_2 = \alpha_2$. 
\begin{figure}[H]
\centering
\begin{tikzcd}
a \arrow[d, "\lambda_1"] \arrow[r,"\lambda_2"] & b_2 \arrow[rdd, bend left = 20, "\alpha_2"] \arrow[d,"\tau_2"] & \\
b_1 \arrow[rrd, bend right = 20, "\alpha_1"] \arrow[r,"\tau_1"] & q \arrow[dr,red,"\gamma"] & \\
& & x
\end{tikzcd}
\end{figure}

\begin{theorem}
Задано $C$ -- категорія.\\
Існують козрівняльники та скінченні кодобутки в $C \iff$ існують пушаути та ініціальний об'єкт категорії $C$.\\
\textit{Доведення аналогічне, просто тут все дуальне.}
\end{theorem}

\end{document}