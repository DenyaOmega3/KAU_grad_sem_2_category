\documentclass[a4paper, 10pt]{article}

\usepackage[margin=1in]{geometry}
\usepackage{amsfonts, amsmath, amssymb, amsthm}
\usepackage[utf8]{inputenc}
\usepackage[english, main=ukrainian]{babel}
\usepackage{pgfplots}
\usepackage{bm}
\usepackage{physics}
\usepackage[unicode]{hyperref}
\usepackage{tikz-cd}
\usepackage{enumitem}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{pdfpages}
\usepackage{caption}
\usepackage{float}

\usepgfplotslibrary{fillbetween}

\usetikzlibrary{spy}
\usetikzlibrary{fit,matrix}
\usetikzlibrary{babel}

\def\rightproof{$\boxed{\Rightarrow}$ }

\def\leftproof{$\boxed{\Leftarrow}$ }

\newtheoremstyle{theoremdd}
  {\topsep}
  {\topsep}
  {\normalfont}
  {0pt}
  {\bfseries}
  {}
  { }
  {\thmname{#1}\thmnumber{ #2}\textnormal{\thmnote{ \textbf{#3}\\}}}

\theoremstyle{theoremdd}
\newtheorem{theorem}{Theorem}[subsection]
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

\newcommand\thref[1]{\textbf{Th.~\ref{#1}}}
\newcommand\defref[1]{\textbf{Def.~\ref{#1}}}
\newcommand\exref[1]{\textbf{Ex.~\ref{#1}}}
\newcommand\prpref[1]{\textbf{Prp.~\ref{#1}}}
\newcommand\rmref[1]{\textbf{Rm.~\ref{#1}}}
\newcommand\lmref[1]{\textbf{Lm.~\ref{#1}}}
\newcommand\crlref[1]{\textbf{Crl.~\ref{#1}}}

\renewcommand{\qedsymbol}{$\blacksquare$}


\makeatletter
\renewenvironment{proof}[1][Proof.\\]{\par
\pushQED{\hfill \qed}%
\normalfont \topsep6\p@\@plus6\p@\relax
\trivlist
\item\relax
{\bfseries
#1\@addpunct{.}}\hspace\labelsep\ignorespaces
}{%
\popQED\endtrivlist\@endpefalse
}
\makeatother

\DeclareMathOperator{\Ob}{Ob}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Set}{Set}

\title{Теорія категорії \\ І курс магістратура, 2 семестр}
    	
\begin{document}
\maketitle
\newpage
%\tableofcontents
%\newpage
%Section 1
%\section{Категорії}
\subsection{Основні означення}
\begin{definition}
\textbf{Категорія} $C$ складається з наступних компонент:
\begin{itemize}[nosep, wide=0pt, label={--}]
\item із набору \textbf{об'єктів}; об'єкти позначають за $X,Y,Z,\dots$, а набір позначають за $\Ob(C)$;
\item із набору \textbf{морфізмів}; морфізми позначають за $f,g,h,\dots$, а набір позначають за  $\Hom(C)$;
\item кожний морфізм має \textbf{область визначення} та \textbf{область значень}; позначається зазвичай як $f \colon X \to Y$, де об'єкт $X$ -- область визначення, об'єкт $Y$ -- область значень;
\item кожний об'єкт $X$ має \textbf{тотожний морфізм} $1_X \colon X \to X$;
\item для кожних морфізмів $f \colon X \to Y,\ g \colon Y \to Z$ існуватиме \textbf{композиція морфізмів} $g \circ f \colon X \to Z$.
\end{itemize}
При цьому всьому зобов'язані виконуватися такі аксіоми:
\begin{center}
\begin{enumerate}[nosep,wide=0pt,label={\arabic*)}]
\item для всіх морфізмів $f \colon X \to Y$ виконано $1_Y \circ f = f \circ 1_X = f$;
\item для кожних трьох морфізмів $f \colon W \to X, g \colon X \to Y, h \colon Y \to Z$ виконується асоціативність композиції, тобто $f \circ (g \circ h) = (f \circ g) \circ h$.
\end{enumerate}
\end{center}
\end{definition}

\begin{remark}
Морфізми ще часто називають \textbf{стрілочками}.
\end{remark}

\begin{example}
Розглянемо $\Set$ -- це буде категорія, яка складається з наступного:
\begin{itemize}[nosep, wide=0pt, label={--}]
\item $\Ob(\Set)$ -- набір всіх множин;
\item $\Hom(\Set)$ -- набір всіх відображень;
\item тотожне відображення $1_X \colon X \to X$ задається як $x \mapsto x$;
\item композиція між $f \colon X \to Y$ та $g \colon Y \to Z$ задається $g \circ f$ таким чином: $x \mapsto f(x) \mapsto g(f(x))$.
\end{itemize}
Ясно, що всі ці дві аксіоми виконані.
\bigskip \\
Важливо, що $\Ob(\Set)$ -- це саме \underline{набір} всіх множин, а не множина всіх множин. Тому що парадокс Рассела стверджує, що не існує множини, елементи яких будуть множинами.\\
До речі, $\Set(X,Y)$ -- набір всіх відображень $f \colon X \to Y$ -- буде, насправді, \underline{множиною}. Відображення між двома множинами -- це просто підмножина декартового добутку $X \times Y$. Коли ми беремо дві довільні множини $X,Y$, то звідси $X \times Y$ теж буде множиною.
\end{example}

\begin{example}
Розглянемо стисло ще приклади категорій:
\begin{enumerate}[nosep,wide=0pt,label={\arabic*)}]
\item $\text{Grp}$ -- об'єктами будуть групи; стрілками будуть гомоморфізми груп;
\item $\text{Ring}$ -- об'єктами будуть кільця; стрілками будуть гомоморфізмами кілець;
\item $\text{Top}$ -- об'єктами будуть топологічні простори; стрілочками будуть неперервні відображення;
\item $\text{Man}$ -- об'єктами будуть гладкі многовиди; стрілочками будуть гладкі відображення.
\end{enumerate}
\end{example}

\begin{example}
Розглянемо моноїд $M$. Ми можемо утворити категорію $\mathcal{M}$, яка містить єдиний об'єкт -- це моноїд.
\end{example}

\begin{example}
Розглянемо так званий посет $(P,\prec)$ (partially ordered set). Скажемо, що $\Ob(P) = P$ та $P(i,j)$ -- це будуть тільки ті стрілки, для яких $i \prec j$. Композиція тут існує, оскільки $\prec$ є транзитивним відношенням. Також існує тотожне відображення, оскільки $\prec$ є рефлексивним відношенням.\\
\textit{Навіть не обов'язково тут вимагати, щоб для $(P,\prec)$ відношення $\prec$ було антисиметричним.}
\end{example}

\begin{definition}
Задано $C$ -- категорія.\\
Стрілочка $f \colon X \to Y$ називається \textbf{ізоморфізмом}, якщо існує стрілка $g \colon Y \to X$, для якої
\begin{align*}
f \circ g = 1_Y \qquad g \circ f = 1_X
\end{align*}
У свою чергу об'єкти $X,Y$ даної категорії називаються \textbf{ізоморфними}.\\
Позначення: $X \cong Y$.
\end{definition}

\begin{definition}
\textbf{Ендоморфізмом} назвемо стрілочку $f \colon X \to X$. Тобто це стрілка між двома однаковими об'єктами.\\
\textbf{Автоморфізмом} назвемо ізоморфім $f$, який є ендоморфізмом.
\end{definition}

\begin{definition}
Категорія $C$ називається \textbf{дискретною}, якщо
\begin{align*}
C(A,B) = \begin{cases} \emptyset, & A \neq B \\ \{1_A\}, & A = B \end{cases}
\end{align*}
Тобто існують лише стрілки $A \to A$, і тільки тотожні.
\end{definition}

\begin{definition}
Категорія $D$ називається \textbf{підкатегорією} $C$, якщо
\begin{align*}
\text{набір об'єктів $D$ міститься в наборі об'єктів $C$} \\
\text{набір стрілок $A \to B$ в $D$ міститься в наборі стрілок $A \to B$ в $C$ для довільних об'єктів $A,B$ із $D$} \\
\text{композиція двох морфізмів в $D$ задається так само, як і в $C$}
\end{align*}
\end{definition}

\begin{definition}
Підкатегорія $D$ категорії $C$ називається \textbf{повною}, якщо
\begin{align*}
\text{набір стрілок $A,B$ в $D$ збігається з набором стрілок $A,B$ в $C$, для довільних об'єктів $A,B$ із $D$}
\end{align*}
\end{definition}

\subsection{Узагальнення ін'єкції та сюр'єкції}
\subsubsection{Монік}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon x \to y$ називається \textbf{моніком}, якщо
\begin{align*}
\alpha \beta_1 = \alpha \beta_2 \implies \beta_1 = \beta_2
\end{align*}
Тобто морфізм -- монік, якщо можна завжди скоротити зліва.
\begin{figure}[H]
\centering
\begin{tikzcd}
z \arrow[r, shift left, "\beta_2"] \arrow[r, shift right, "\beta_1" {yshift=-10pt}] & x \arrow{r}{\alpha} & y
\end{tikzcd}
\end{figure}
\end{definition}

\begin{theorem}
У конкретній категорії кожний ін'єктивний морфізм -- монік.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- ін'єктивний морфізм. Нехай $\beta_1, \beta_2 \colon Z \to X$ -- морфізми $C$ та припустимо, що $\alpha \beta_1 = \alpha \beta_2$. Для всіх $z \in Z$ ми маємо $\alpha(\beta_1(z)) = \alpha \beta_1 (z) = \alpha \beta_2(z) = \alpha(\beta_2(z))$, тому за ін'єктивністю, $\beta_1(z) = \beta_2(z)$. Отже, $\beta_1 = \beta_2$.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо повну категорію $C = \text{Div}$ підкатегорії $\text{Grp}$. Тут абелева група називається \textbf{подільною}, якщо $\forall a \in A, \forall n \in \mathbb{Z} \setminus \{0\}: \exists b \in A: a = nb$.\\
Оберемо об'єкти $\mathbb{Q}, \mathbb{Q}/_{\mathbb{Z}}$ із нашої категорії $C$ та гомоморфізм $\alpha \colon \mathbb{Q} \to \mathbb{Q}/_{\mathbb{Z}}$, який є сюр'єктивним. Даний морфізм не ін'єктивний, оскільки $\ker \alpha = \mathbb{Z}$. Стверджується, що $\alpha$ -- монік.\\
Нехай $\beta_1,\beta_2 \colon A \to \mathbb{Q}$ -- морфізми в $C$ та припустимо, що $\beta_1 \neq \beta_2$. Тоді існує елемент $a \in A$, для якого $\beta_1(a) - \beta_2(a) \neq 0$. Ліворуч раціональне число, тож $\beta_1(a) - \beta_2(a) = \dfrac{r}{s}$ для деяких $r,s \in \mathbb{Z}$ та $r \neq 0, s \neq 0$. Оскільки $A$ -- подільна група, то існує для елемента $a \in A$ та $n = 2r$ існує $b \in A$, для якого $a = nb$. Тоді $\beta_1(nb) - \beta_2(nb) = n \beta_1(b) - n \beta_2(b) = \dfrac{r}{s}$.\\
Отже, $\beta_1(b) - \beta_2(b) = \dfrac{1}{2s} \notin \mathbb{Z}$, а тому звідси $\alpha \beta_1 \neq \alpha \beta_2$.
\end{example}

\begin{theorem}
У категоріях $\text{Set},\text{Top},\text{Grp},\text{Rng}$ морфізм ін'єктивний $\iff$ морфізм -- монік.
\end{theorem}

\begin{proof}
Ми вже знаємо, що ін'єктивний морфізм -- монік. Залишилося довести зворотний бік для цих категоріях.
\bigskip \\
(\text{Set}). Нехай $\alpha \colon X \to Y$ -- монік морфізм. Оберемо $x_1,x_2 \in X$ та припустимо, що $\alpha(x_1) = \alpha(x_2)$. Покладемо $z = 0 \in \mathbb{Z}$ та покладемо $Z = \{z\}$ (хоча тут може бути будь-який сінглтон), визначимо $\beta_1, \beta_2 \colon Z \to X$ як $\beta_1(z) = x_1, \beta_2(z) = x_2$. Тоді\\
$\alpha \beta_1(z) = \alpha(\beta_1(z)) = \alpha(x_1) = \alpha(x_2) = \alpha(\beta_2(z)) = \alpha \beta_2(z)$.\\
За монічністю, звідси $\beta_1 = \beta_2$, тобто $x_1 = \beta_1(z) = \beta_2(z) = x_2$. Таким чином, $\alpha$ -- ін'єктивний.
\bigskip \\
(\text{Top}). Насправді, все аналогічно, тільки є деякі зауваження. На множину $Z$ треба задати дискретну топологію (єдина можлива топологія для неї). Відображення $\beta_1,\beta_2$ будуть уже неперервними через дискретність $Z$.
\bigskip \\
(\text{Grp}). Нехай $\alpha \colon G \to H$ -- монік морфізм. Розглянемо $\beta_1, \beta_2 \colon \ker \alpha \to G$ -- перший буде вкладенням, другий буде тривіальним. Тоді $\alpha \beta_1 = \alpha \beta_2$. Дійсно,\\
$\alpha \beta_1(g) = \alpha (g) \overset{g \in \ker \alpha}{=} e = \alpha(e) = \alpha \beta_2(g)$.\\
За монічністю, звідси $\beta_1 = \beta_2$, тобто $\beta_1$ -- тривіальне вкладення. Отже, $\ker \alpha = \{e\}$, а це означає ін'єктивніть $\alpha$.
\bigskip \\
(\text{Rng}). Таке саме доведення.
\end{proof}

\subsubsection{Розщеплений монік}
\begin{definition}
Задано $C$ -- категорія.\\
Морфізм $\alpha \colon X \to Y$ називається \textbf{розщепленим моніком}, якщо
\begin{align*}
\exists \beta \colon y \to x: \beta \alpha = 1_x
\end{align*}
Морфізм -- розщеплений монік, тобто даний морфізм має лівий оборотний.
\begin{figure}[H]
\centering
\begin{tikzcd}
x \ar[looseness=4, out=150, in=240, swap, "1_x"] \arrow[r, shift right, "\alpha" {yshift=-10pt}] & y \arrow[l, shift right, dashed, "\exists \beta" {yshift = 10pt}]
\end{tikzcd}
\end{figure}
\end{definition}

\begin{theorem}
Кожний розщеплений монік -- монік.
\end{theorem}

\begin{proof}
Нехай $\alpha \colon x \to y$ -- розщеплений монік в категорії, тобто існує морфізм $\beta \colon y \to x$, для якого $\beta \alpha = 1_x$. Нехай $\beta_1,\beta_2 \colon z \to x$ будуть морфізмами та припустимо, що $\alpha \beta_1 = \alpha \beta_2$. Тоді \\
$\beta_1 = 1_x \beta_1 = \beta \alpha \beta_1 = \beta \alpha \beta_2 = 1_x \beta_2 = \beta_2$.
\end{proof}

\begin{theorem}
У конкретній категорії кожний розщеплений монік -- ін'єктивний морфізм.
\end{theorem}

\begin{proof}
Нехай $C$ -- конкретна категорія та $\alpha \colon X \to Y$ -- розщеплений монік, тобто існує морфізм $\beta \colon Y \to X$, для якого $\beta \alpha = 1_X$. Тоді\\
$x_1 = 1_X (x_1) = \beta \alpha(x_1) = \beta(\alpha(x_1)) = \beta(\alpha(x_2)) = \beta \alpha(x_2) = 1_X(x_2) = x_2$.
\end{proof}

\begin{remark}
Зворотне твердження не працює.
\end{remark}

\begin{example}
Розглянемо категорію $\text{Grp}$. Вкладення $\alpha \colon 2 \mathbb{Z} \to \mathbb{Z}$ -- ін'єктивний гомоморфізм. Але це не буде розщепленим моніком.\\
!Припустимо, що все ж таки він розщеплений монік, тобто існує гомоморфізм $\beta \colon \mathbb{Z} \to 2 \mathbb{Z}$, для якого $\beta \alpha = 1_{2 \mathbb{Z}}$. Тоді $2 \beta(1) = \beta(2) = \beta(\alpha(2)) = \beta \alpha(2) = 2$, тобто $\beta(1) = 1$, але це суперечність! Просто тому що $\beta$ відображає на $2 \mathbb{Z}$.
\bigskip \\
Можна аналогічні міркування провести для категорії $\text{Rng}$.
\end{example}

\begin{example}
Розглянемо категорію $\text{Top}$. Оберемо тотожне відображення $\alpha \colon \mathbb{R} \to \mathbb{R}$, де область визначення має дискретну топологія, а область значень -- стандартну. Тоді $\alpha$ -- ін'єктивний, але не розщеплений монік.\\
!Припустимо, що існує морфізм $\beta \colon \mathbb{R} \to \mathbb{R}$, для якого $\beta \alpha = 1_\mathbb{R}$. Тоді $\beta = \beta 1_{\mathbb{R}} = \beta \alpha = 1_{\mathbb{R}}$, однак множина $\{0\}$ відкрита в $\mathbb{R}$ з дискретною топологією, але не відкрита в стандартній топології. Це суперечність! Тому що $\beta$ -- неперервне відображення.
\end{example}

\end{document}